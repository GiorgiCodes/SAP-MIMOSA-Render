services:
  # Single unified service running both Python backend and .NET frontend
  - type: web
    name: sap-mimosa-unified
    env: docker
    dockerfilePath: ./Dockerfile
    dockerContext: .
    region: singapore
    plan: free
    healthCheckPath: /
    autoDeploy: true
    envVars:
      # Secret - add manually in Render dashboard
      - key: OPENAI_API_KEY
        sync: false
      # Auto-synced - backend runs on localhost:8000 internally
      - key: PY_API_BASE
        value: http://127.0.0.1:8000/
      # Auto-synced - CORS not needed since same origin
      - key: CORS_ORIGINS
        value: http://localhost:5015
